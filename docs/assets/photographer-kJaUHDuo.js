import{m as P,n as u,a as $,c as C,b as T,d as H,s as R,e as U,f as z}from"./domLinker-ZkcT5N9D.js";function G(t){const e=document.getElementById("contact_modal"),n=document.getElementById("overlay");e.style.display="block",n.style.display="block",document.body.classList.add("modal-open");const o=document.getElementById("photographer_name");o.textContent=t;const s=e.querySelector('input:not([type="hidden"]), select, textarea, button');s&&s.focus();const l=e.querySelector("form");l&&(l.reset(),l.addEventListener("submit",J),l.addEventListener("keydown",Q));const r=document.getElementById("closeModal");r&&(r.tabIndex=0)}function J(t){t.preventDefault();const e=t.target,n=new FormData(e);let o={};n.forEach((s,l)=>{o[l]=s}),console.log(o),I()}function Q(t){if(t.code==="Tab"){const e=Array.from(this.querySelectorAll('input:not([type="hidden"]), select, textarea, button')),n=e.indexOf(document.activeElement);t.shiftKey?n>0&&(e[n-1].focus(),t.preventDefault()):n<e.length-1&&(e[n+1].focus(),t.preventDefault())}else t.code==="Escape"&&I()}function I(){const t=document.getElementById("contact_modal"),e=document.getElementById("overlay");t.style.display="none",e.style.display="none",document.body.classList.remove("modal-open"),window.scrollTo(0,scrollPosition)}let c;function x(t,e){const n=document.getElementById("lightBox");n.style.display="block",M(t);const o=document.getElementById("lightBox");o.setAttribute("tabindex","0"),o.focus(),o.addEventListener("keyup",function(s){V(s,e)})}function w(){const t=document.getElementById("lightBox");t.style.display="none"}function M(t){c=t;const e=document.getElementById("mediaContainerlightbox");if(e.innerHTML="",c.image){const o=document.createElement("img");o.src=`./assets/medias/${c.image}`,o.alt=c.title,e.appendChild(o)}if(c.video){const o=document.createElement("video");o.controls=!0;const s=document.createElement("source");s.src=`./assets/medias/${c.video}`,o.appendChild(s),e.appendChild(o)}const n=document.createElement("div");n.classList.add("text-container"),n.textContent=c.title,e.appendChild(n)}function B(t){const e=t.findIndex(n=>n.id===c.id);c=t[(e+1)%t.length],M(c)}function O(t){const e=t.findIndex(n=>n.id===c.id);c=t[(e-1+t.length)%t.length],M(c)}function V(t,e){switch(t.code){case"ArrowLeft":O(e);break;case"ArrowRight":B(e);break;case"Escape":w();break;case"Enter":t.target.id==="closeLightbox"?w():B(e);break}}const F=t=>{const{name:e,city:n,country:o,tagline:s,portrait:l,medias:r,price:j}=t;function K(){document.querySelector("#previousArrow").addEventListener("click",()=>{O(r)}),document.querySelector("#nextArrow").addEventListener("click",()=>{B(r)}),document.querySelector("#previousArrow").setAttribute("tabindex","0"),document.querySelector("#nextArrow").setAttribute("tabindex","0");let D=0;P.innerHTML="",u.innerHTML="",$.innerHTML="",C.innerHTML="";const p=document.createElement("div");C.appendChild(p),p.classList.add("paragraphe");const S=document.createElement("h1");S.textContent=e,p.appendChild(S);const A=document.createElement("p");A.textContent=`${n}, ${e}`,p.appendChild(A);const L=document.createElement("p");L.textContent=s,L.classList.add("custom-description"),p.appendChild(L);const h=document.createElement("button");h.classList.add("contact_button"),h.addEventListener("click",()=>{G(e)}),h.textContent="Contactez-moi",h.setAttribute("tabindex","0"),C.appendChild(h);const k=document.createElement("img");k.setAttribute("src",`/assets/photographers/${l}`),k.alt=e,C.appendChild(k),r.forEach(a=>{const v=document.createElement("a");v.href="#";const y=document.createElement("article");if(y.classList.add("photo-item"),v.appendChild(y),P.appendChild(v),a.video){const i=document.createElement("video");y.appendChild(i);const f=document.createElement("source");f.setAttribute("src",`/assets/medias/${a.video}`),f.alt=a.title,i.appendChild(f),i.setAttribute("tabindex","0"),i.addEventListener("click",()=>{x(a,r)}),i.addEventListener("keydown",N=>{N.code==="Enter"&&x(a,r)})}else{const i=document.createElement("img");i.setAttribute("src",`/assets/medias/${a.image}`),i.alt=a.title,y.appendChild(i),i.setAttribute("tabindex","0"),i.addEventListener("click",()=>{x(a,r)}),i.addEventListener("keydown",f=>{f.code==="Enter"&&x(a,r)})}const g=document.createElement("div");y.appendChild(g);const q=document.createElement("p");q.textContent=a.title,g.appendChild(q),g.classList.add("section-picture-footer");const E=document.createElement("div");E.classList.add("like-container"),g.appendChild(E);const d=document.createElement("i");d.classList.add("fa-regular","fa-heart"),d.setAttribute("aria-label","likes"),d.setAttribute("tabindex","0"),d.setAttribute("data-like-button","true"),E.appendChild(d),d.addEventListener("keydown",i=>{i.code==="Enter"&&(m=!m,b.textContent=m?a.likes+1:a.likes,u.textContent=m?parseInt(u.textContent)+1:parseInt(u.textContent)-1,d.classList.toggle("fa-regular"),d.classList.toggle("fa-solid"))});let m=!1;d.style.color="#901C1C",D+=a.likes,d.addEventListener("click",i=>{i.preventDefault(),m=!m,b.textContent=m?a.likes+1:a.likes,u.textContent=m?parseInt(u.textContent)+1:parseInt(u.textContent)-1,d.classList.toggle("fa-regular"),d.classList.toggle("fa-solid")});const b=document.createElement("p");b.textContent=a.likes,E.appendChild(b)}),u.textContent=D,$.textContent=`${j} â‚¬`}return{name:e,city:n,country:o,tagline:s,portrait:l,createDisplayDom:K}},_=()=>{let t=window.location.href;return new URL(t).searchParams.get("id")},W=async t=>{const e=_(),n=await T(e),o=await H(e);switch(t){case"name":n.medias=z(o);break;case"date":n.medias=U(o);break;case"popularity":n.medias=R(o);break}F(n).createDisplayDom(n)},X=async()=>{document.querySelector("#sortBySelect").addEventListener("change",()=>{const s=document.querySelector("#sortBySelect").value;W(s)}),document.querySelector("#closeModal").addEventListener("click",()=>{I()}),document.querySelector("#closeLightbox").addEventListener("click",()=>{w()});const t=_(),e=await T(t),n=await H(t);e.medias=n,F(e).createDisplayDom(e)};X();
